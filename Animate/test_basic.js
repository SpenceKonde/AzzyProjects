pinMode(A7,"af_opendrain");
pinMode(A5,"af_opendrain");
SPI1.setup({sck:A5,mosi:A7,mode:1,order:"msb"});

anibuf=[];
anibuf[0]=new Uint8Array([0,0,0,0,225,60,22,33,225,60,25,28,255,6,22,33,255,8,33,20,255,2,32,21,255,3,22,36,255,6,28,40]);
anibuf[1]=new Uint8Array([0,0,0,0,226,60,22,33,226,60,25,28,255,6,22,33,255,8,33,20,255,2,36,18,255,3,22,36,255,6,28,40]);
anibuf[2]=new Uint8Array([0,0,0,0,227,60,22,33,227,60,25,28,255,6,22,33,255,8,33,20,255,2,35,18,255,3,22,36,255,6,28,40]);
anibuf[3]=new Uint8Array([0,0,0,0,228,60,22,33,228,60,25,28,255,6,22,33,255,8,33,20,255,2,33,19,255,3,22,36,255,6,28,40]);
anibuf[4]=new Uint8Array([0,0,0,0,229,60,22,33,229,60,25,28,255,6,22,33,255,8,33,20,255,2,33,19,255,3,22,36,255,6,28,40]);
anibuf[5]=new Uint8Array([0,0,0,0,230,60,22,33,230,60,25,28,255,6,22,33,255,8,33,20,255,2,37,20,255,3,22,36,255,6,28,40]);
anibuf[6]=new Uint8Array([0,0,0,0,232,60,22,33,232,60,25,28,255,6,22,33,255,8,33,20,255,2,36,22,255,3,22,36,255,6,28,40]);
anibuf[7]=new Uint8Array([0,0,0,0,234,60,22,33,234,60,25,28,255,6,22,33,255,8,33,20,255,2,34,22,255,3,22,36,255,6,28,40]);
anibuf[8]=new Uint8Array([0,0,0,0,236,60,22,33,236,60,25,28,255,6,22,33,255,8,33,20,255,2,33,24,255,3,22,36,255,6,28,40]);
anibuf[9]=new Uint8Array([0,0,0,0,238,60,22,33,238,60,25,28,255,6,22,33,255,8,33,20,255,2,35,20,255,3,22,36,255,6,28,40]);
anibuf[10]=new Uint8Array([0,0,0,0,240,60,22,33,240,60,25,28,255,6,22,33,255,8,33,20,255,2,36,14,255,3,22,36,255,6,28,40]);
anibuf[11]=new Uint8Array([0,0,0,0,243,60,22,33,243,60,25,28,255,6,22,33,255,8,33,20,255,2,34,15,255,3,22,36,255,6,28,40]);
anibuf[12]=new Uint8Array([0,0,0,0,246,60,22,33,246,60,25,28,255,6,22,33,255,8,33,20,255,2,31,16,255,3,22,36,255,6,28,40]);
anibuf[13]=new Uint8Array([0,0,0,0,250,60,22,33,250,60,25,28,255,6,22,33,255,8,33,20,255,2,28,18,255,3,22,36,255,6,28,40]);
anibuf[14]=new Uint8Array([0,0,0,0,255,60,22,33,255,60,25,28,255,6,22,33,255,8,33,20,255,3,27,18,255,3,22,36,255,6,28,40]);
anibuf[15]=new Uint8Array([0,0,0,0,250,60,22,33,250,60,25,28,255,6,22,33,255,8,33,20,255,3,29,21,255,3,22,36,255,6,28,40]);
anibuf[16]=new Uint8Array([0,0,0,0,246,60,22,33,246,60,25,28,255,6,22,33,255,8,33,20,255,3,29,21,255,3,22,36,255,6,28,40]);
anibuf[17]=new Uint8Array([0,0,0,0,243,60,22,33,243,60,25,28,255,6,22,33,255,8,33,20,255,3,29,21,255,3,22,36,255,6,28,40]);
anibuf[18]=new Uint8Array([0,0,0,0,240,60,22,33,240,60,25,28,255,6,22,33,255,8,33,20,255,3,29,21,255,3,22,36,255,6,28,40]);
anibuf[19]=new Uint8Array([0,0,0,0,238,60,22,33,238,60,25,28,255,6,22,33,255,8,33,20,255,3,29,21,255,3,22,36,255,6,28,40]);
anibuf[20]=new Uint8Array([0,0,0,0,236,60,22,33,236,60,25,28,255,6,22,33,255,8,33,20,255,3,29,21,255,3,22,36,255,6,28,40]);
anibuf[21]=new Uint8Array([0,0,0,0,234,60,22,33,234,60,25,28,255,6,22,33,255,8,33,20,255,3,29,21,255,3,22,36,255,6,28,40]);
anibuf[22]=new Uint8Array([0,0,0,0,232,60,22,33,232,60,25,28,255,6,22,33,255,8,33,20,255,3,29,21,255,3,22,36,255,6,28,40]);
anibuf[23]=new Uint8Array([0,0,0,0,230,60,22,33,230,60,25,28,255,6,22,33,255,8,33,20,255,3,29,21,255,3,22,36,255,6,28,40]);
anibuf[24]=new Uint8Array([0,0,0,0,229,60,22,33,229,60,25,28,255,6,22,33,255,8,33,20,255,3,29,21,255,3,22,36,255,6,28,40]);
anibuf[25]=new Uint8Array([0,0,0,0,228,60,22,33,228,60,25,28,255,6,22,33,255,8,33,20,255,3,29,21,255,3,22,36,255,6,28,40]);
anibuf[26]=new Uint8Array([0,0,0,0,227,60,22,33,227,60,25,28,255,6,22,33,255,8,33,20,255,3,29,21,255,3,22,36,255,6,28,40]);
anibuf[27]=new Uint8Array([0,0,0,0,226,60,22,33,226,60,25,28,255,6,22,33,255,8,33,20,255,3,29,21,255,3,22,36,255,6,28,40]);
anibuf[28]=new Uint8Array([0,0,0,0,225,60,22,33,225,60,25,28,255,6,22,33,255,8,33,20,255,3,29,21,255,3,22,36,255,6,28,40]);


currentframe = 0;
framecount=anibuf.length;

function APA102Lite(data){
  SPI1.send(data);
  SPI1.send([0xFF,0xFF,0xFF,0xFF]);
}

function animate() {
  currentframe++;
  if (currentframe >= framecount) {
    currentframe=0;
  }
  APA102Lite(anibuf[currentframe]);
  timer=setTimeout("animate()",20);
}
