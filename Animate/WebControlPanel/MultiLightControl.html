<!DOCTYPE html>
<html lang="en">
  <head>

  <link rel="stylesheet" type="text/css" href="style.css">
    <style type="text/css">
    textarea {
  white-space: pre;
  word-wrap: normal;
  overflow-x: scroll;
}
    </style>
    <meta charset="utf-8">
    <title>title</title>
    <script type="text/javascript">
    var PingPongLights=[
      {"ip":"192.168.2.135","name":"Pong1"},
      {"ip":"192.168.2.136","name":"Pong2"},
      {"ip":"192.168.2.137","name":"Pong3"},
      {"ip":"192.168.2.138","name":"Pong4"}
    ];
    function massLoad() {
      var t=document.getElementById("index").value;
      var len=PingPongLights.length;
      for (var i=0;i<len;i++) {
        if (document.getElementById(PingPongLights[i]["name"]).checked) {
          document.getElementById(PingPongLights[i]["name"]+"Div").className="pendPongDiv";
          var xmlhttp = new XMLHttpRequest();
          var url = "http://"+PingPongLights[i]["ip"]+"/load.cmd?index="+t;
          var pongname=PingPongLights[i]["name"]+"Div";
          xmlhttp.pongname=pongname;
          xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4) {
              if (this.status == 200) {
                document.getElementById(this.pongname).className="okayPongDiv";
              } else {
                document.getElementById(this.pongname).className="badPongDiv";
              }
            }
          }
          xmlhttp.open("GET", url, true);
          xmlhttp.send();
        }
      }
    }
    function getColorArray(patternComp) {
      return "["++","++","++"]";
    }
    function massSetAll() {
      var len=PingPongLights.length;
      for (var i=0;i<len;i++) {
        if (document.getElementById(PingPongLights[i]["name"]).checked) {
          document.getElementById(PingPongLights[i]["name"]+"Div").className="pendPongDiv";
          var xmlhttp = new XMLHttpRequest();
          var url = "http://"+PingPongLights[i]["ip"]+"/setAll.cmd?base=";
          var pongname=PingPongLights[i]["name"]+"Div";
          xmlhttp.pongname=pongname;
          xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4) {
              if (this.status == 200) {
                document.getElementById(this.pongname).className="okayPongDiv";
              } else {
                document.getElementById(this.pongname).className="badPongDiv";
              }
            }
          }
          xmlhttp.open("GET", url, true);
          xmlhttp.send();
        }
      }
    }
    </script>
  </head>
  <body width="100%;">
  <div>
    <div id="Pong1Div" class="pendPongDiv"><input type="checkbox" id="Pong1">Desk Right</div>
    <div id="Pong2Div" class="pendPongDiv"><input type="checkbox" id="Pong2">Couch</div>
    <div id="Pong3Div" class="pendPongDiv"><input type="checkbox" id="Pong3">Desk Left</div>
    <div id="Pong4Div" class="pendPongDiv"><input type="checkbox" id="Pong4">Corner</div>
  </div>
  <div>
    Index:
    <input type="number" id="index" min="0" max="512">
    <input type="button" onclick="massLoad()" value="load">
    </div>
    <div>
      Mass SetAll:
      <table>
        <tr><th></th><th>Red</th><th>Green</th><th>Blue</th></tr>
        <tr>
          <td>
            Base:
          </td>
          <td>
            <input type="number" id="baseRed" min="0" max="255" value="0">
          </td>
          <td>
            <input type="number" id="baseGreen" min="0" max="255" value="0">
          </td>
          <td>
            <input type="number" id="baseBlue" min="0" max="255" value="0">
          </td>
        </tr>
        <tr>
          <td>
            Min:
          </td>
          <td>
            <input type="number" id="minRed" min="-128" max="127" value="0">
          </td>
          <td>
            <input type="number" id="minGreen" min="-128" max="127" value="0">
          </td>
          <td>
            <input type="number" id="minBlue" min="-128" max="127" value="0">
          </td>
        </tr>
        <tr>
          <td>
            Max:
          </td>
          <td>
            <input type="number" id="maxRed" min="-128" max="127" value="0">
          </td>
          <td>
            <input type="number" id="maxGreen" min="-128" max="127" value="0">
          </td>
          <td>
            <input type="number" id="maxBlue" min="-128" max="127" value="0">
          </td>
        </tr>
      </table>
    </div>
    
  </body>
</html>

